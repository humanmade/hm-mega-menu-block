import*as e from"@wordpress/interactivity";var n={d:(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const t=(u={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},l={},n.d(l,u),l),{state:o,actions:c}=(0,t.store)("hm-blocks/hm-mega-menu-block",{state:{get isMenuOpen(){return Object.values(o.menuOpenedBy).filter(Boolean).length>0},get menuOpenedBy(){return(0,t.getContext)().menuOpenedBy}},actions:{toggleMenuOnClick(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();o.menuOpenedBy.click||o.menuOpenedBy.focus?c.closeMenuOnClick():(e.previousFocus=n,c.openMenu("click"))},closeMenuOnClick(){c.closeMenu("click"),c.closeMenu("focus")},handleMenuKeydown(e){o.menuOpenedBy.click&&"Escape"===e?.key&&c.closeMenuOnClick()},handleOutsideClick(e){const n=(0,t.getContext)(),o=n?.megaMenu;o&&!o.contains(e.target)&&c.closeMenuOnClick()},openMenu(e="click"){o.menuOpenedBy[e]=!0},closeMenu(e="click"){const n=(0,t.getContext)();o.menuOpenedBy[e]=!1,o.isMenuOpen||(n.megaMenu?.contains(window.document.activeElement)&&n.previousFocus?.focus(),n.previousFocus=null,n.megaMenu=null)}},callbacks:{initMenu(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();o.isMenuOpen&&(e.megaMenu=n)}}});var u,l;